{% extends 'index.html' %}
<!-- saved from url=(0069)file:///C:/Users/emper1or/Downloads/Telegram%20Desktop/add_books.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body>


{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">Добавить книгу</h1>

    <!-- Уведомление об успешной загрузке книги -->
    {% if messages %}
        <div class="alert alert-success d-flex align-items-center mb-4" role="alert">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
                <path d="M16 8a7.96 7.96 0 0 0-3-6.165A7.963 7.963 0 0 0 8 .5 7.963 7.963 0 0 0 4.165 1.835A7.96 7.96 0 0 0 0 8a7.96 7.96 0 0 0 3 6.165A7.963 7.963 0 0 0 8 15.5a7.963 7.963 0 0 0 3.835-.665A7.96 7.96 0 0 0 16 8zm-8 4a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"></path>
            </svg>
            <span class="ms-2">Книга загружена успешно!</span>
        </div>
    {% endif %}

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <!-- Название книги -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <input type="text" class="form-control" id="bookTitle" name="title" placeholder="Название книги" value="{{ form.title.value }}" required="">
            </div>
            {% if form.title.errors %}
                <div class="text-danger">
                    {% for error in form.title.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Описание книги -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <textarea class="form-control" id="bookDescription" name="description" rows="3" placeholder="Описание книги" required="">{{ form.description.value }}</textarea>
            </div>
            {% if form.description.errors %}
                <div class="text-danger">
                    {% for error in form.description.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Автор книги -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <input type="text" class="form-control" id="author" name="author" placeholder="Автор книги" value="{{ form.author.value }}" required="">
            </div>
            {% if form.author.errors %}
                <div class="text-danger">
                    {% for error in form.author.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Обложка книги -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <input type="file" class="form-control" id="cover" name="cover" placeholder="Обложка книги" accept="image/*" required="">
            </div>
            {% if form.cover.errors %}
                <div class="text-danger">
                    {% for error in form.cover.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Дата публикации -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <input type="date" class="form-control" id="published_date" name="published_date" placeholder="Дата публикации" value="{{ form.published_date.value }}" required="">
            </div>
            {% if form.published_date.errors %}
                <div class="text-danger">
                    {% for error in form.published_date.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Категория книги -->
        <div class="mb-3">
            <div class="input-container w-75 mx-auto">  <!-- Ограничение ширины -->
                <select class="form-control" id="category" name="category" placeholder="Категория книги" required="">
                    <option value="fiction" {%="" if="" form.category.value="=" 'fiction'="" %}selected{%="" endif="" %}="">Художественная литература</option>
                    <option value="nonfiction" {%="" if="" form.category.value="=" 'nonfiction'="" %}selected{%="" endif="" %}="">Нехудожественная литература</option>
                    <option value="mystery" {%="" if="" form.category.value="=" 'mystery'="" %}selected{%="" endif="" %}="">Детективы</option>
                </select>
                <label for="category">Категория книги</label>
            </div>
            {% if form.category.errors %}
                <div class="text-danger">
                    {% for error in form.category.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Кнопка для сохранения книги -->
        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary w-75">Сохранить книгу</button>
        </div>
    </form>
</div>
{% endblock %}
</body></html>